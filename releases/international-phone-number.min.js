// Generated by CoffeeScript 1.9.3
(function(){"use strict"
angular.module("internationalPhoneNumber",[]).directive("internationalPhoneNumber",["$timeout",function(n){return{restrict:"A",require:"^ngModel",scope:{ngModel:"=",defaultCountry:"@"},link:function(t,e,r,u){var o,i,l,a
return l=function(){return u.$setViewValue(e.val())},o=function(n){return n instanceof Array?n:n.toString().replace(/[ ]/g,"").split(",")},i={autoFormat:!0,autoHideDialCode:!0,defaultCountry:"",nationalMode:!1,numberType:"",onlyCountries:void 0,preferredCountries:["us","gb"],responsiveDropdown:!1,utilsScript:""},angular.forEach(i,function(n,t){var e
if(r.hasOwnProperty(t)&&angular.isDefined(r[t]))return e=r[t],"preferredCountries"===t?i.preferredCountries=o(e):"onlyCountries"===t?i.onlyCountries=o(e):"boolean"==typeof n?i[t]="true"===e:i[t]=e}),a=t.$watch("ngModel",function(n){return t.$$postDigest(function(){return i.defaultCountry=t.defaultCountry,null!==n&&void 0!==n&&""!==n&&e.val(n),e.intlTelInput(i),void 0!==r.skipUtilScriptDownload||i.utilsScript||e.intlTelInput("loadUtils","/bower_components/intl-tel-input/lib/libphonenumber/build/utils.js"),a()})}),u.$formatters.push(function(t){return t?(n(function(){return e.intlTelInput("setNumber",t)},0),e.val()):t}),u.$parsers.push(function(n){return n?n.replace(/[^\d]/g,""):n}),u.$validators.internationalPhoneNumber=function(n){return n?(e.intlTelInput("setNumber",n),e.intlTelInput("isValidNumber")):n},e.on("blur keyup change",function(n){return t.$apply(l)}),e.on("$destroy",function(){return e.intlTelInput("destroy"),e.off("blur keyup change")})}}}])}).call(this)
